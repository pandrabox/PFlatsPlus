# Overview

FlatsPlus adds **cuteness** and **convenience** to the Flat tribe (Flat, Komodo, Fel, Heon, Kewf).
![Flats Plus Social Card](/img/SocialCard.jpg)

# Installation

| No | Description | Image |
| ---- | ---- | ---- |
| 1 | Prepare a Unity environment for the Flat tribe | ![Unity Environment](/img/image.png) |
| 2 | Download FlatsPlus from pandrabox's Booth |  |
| 3 | Open the file and import FlatsPlusV1.unitypackage | ![Import unitypackage](/img/image-1.png) ![Import Screen](/img/image-2.png) |
| 4 | When a message appears, press Install | ![Install Button](/img/image-3.png) |
| 5 | Place Assets/Pan/FlatsPlus/FlatsPlus.prefab directly under your avatar | ![Prefab Placement](/img/image-5.png) ![Placement Complete](/img/image-6.png) |
| 6 | Installation complete! Upload and enjoy.<br />*Uploading may take longer than usual. Please be patient.* |  |

# Main Features
If you do not customize, the following features are available:

## ![](/img/icos/AnyTime.png) Always Active
- Dance support: Facial expressions move in many dance worlds
- Cheeks: Can be touched and stretched. Blush appears when you bring your hand close
- Mesh settings: Adjust overall avatar brightness to prevent only clothes or head from changing color
- Belly: Becomes soft and can be touched
- Tail: Swings
- Clipping canceller: Does not disappear when approached

## ![](/img/icos/Carry_Rings.png) Move Others
- ![](/img/icos/Carry_GrayRing1.png) Summon Gray Gate: Creates a gray gate that others can teleport through. You cannot use it. *Appears red to others*
- ![](/img/icos/Carry_GrayRing2.png) Enable Gray Gate: Toggle the display state of the gray gate
- ![](/img/icos/Carry_Call1.png) Summon Blue Gate: Creates a blue gate you can teleport through. Invisible to others. *Requires other FlatsPlus users nearby*
- ![](/img/icos/Carry_Call2.png) Allow Blue Gate: Allow a blue gate to be created at your location by "Summon Blue Gate"
- ![](/img/icos/Carry_Hug.png) Hug: Others can ride on your hands
- ![](/img/icos/Carry_Carry.png) Piggyback: Others can ride on your back
- ![](/img/icos/Distance.png) Adjust Distance: Adjust the distance for hug/piggyback
- ![](/img/icos/Rotation.png) Adjust Angle: Adjust the angle for gray gate, hug, and piggyback

## ![](/img/icos/GUIDE.png) Guide
- ![](/img/icos/GUIDE_SW.png) Enable: Toggle guide display
- ![](/img/icos/GUIDE_Size.png) Size: Change guide text size

## ![](/img/icos/Dance.png) Dance Settings
- ![](/img/icos/DANCE_Mode0.png) Mode: OFF: Turn off dance features
- ![](/img/icos/DANCE_Mode1.png) Mode: Normal: Automatically detects most dances with few false positives
- ![](/img/icos/DANCE_Mode2.png) Mode: Powerful: Detects almost all dances automatically, but may have false positives
- ![](/img/icos/FX.png) Enable FX: Turn on FX during dance (Recommended ON. If OFF, facial expressions move more, but sync issues may occur with costumes, etc.)

## ![](/img/icos/Tail.png) Tail
- ![](/img/icos/Tail_Size.png) Size: Change tail size
- ![](/img/icos/Tail_Swing.png) Swing: Swing the tail

## ![](/img/icos/Sleep.png) Sleep
- ![](/img/icos/Sleep_SW.png) Enable: Enter sleep mode
- ![](/img/icos/FootLock.png) Movement Lock: Prevent movement
- ![](/img/icos/Foot_Height.png) Height: Change the height of the feet (or whole body when motion-locked)
- ![](/img/icos/Sleep_Lock1.png) Lock: Motion: Lock the whole body in the default sleep pose
- ![](/img/icos/Sleep_Lock2.png) Lock: Current Pose: Lock the whole body in the current pose

## ![](/img/icos/Clip.png) PoseClipper
This feature is a port of PoseClipper developed by CHILD WITCH.
- ![](/img/icos/back_line%20(4).png) Reset: Release PoseClipper
- ![](/img/icos/earth_fill.png) WorldFixed: Fix body position
- ![](/img/icos/walk_fill%20(5).png) AllClip: Fix the whole body
- ![](/img/icos/head_line%20(1).png) PartsClip: Fix by body part
- ![](/img/icos/body_line%20(1).png) Detail (Body): Fix by body detail
- ![](/img/icos/hand_line%20(1).png) Detail (Arms): Fix by hand detail
- ![](/img/icos/foot_line%20(1).png) Detail (Legs): Fix by leg detail

## ![](/img/icos/Pen.png) Pen
- ![](/img/icos/Pen_SW.png) Draw: Enable pen. You can draw by making a fist with your right hand
- ![](/img/icos/Erace.png) Erase: Enable eraser. You can erase by making a fist with your right hand
- ![](/img/icos/EraceAll.png) Clear: Erase all drawings
- ![](/img/icos/PenColor.png) Color: Change pen color

## ![](/img/icos/Move.png) Move Yourself
- ![](/img/icos/MoveSw.png) Fly & High-Speed Move: Fly or move at high speed. If move speed is 0, you fly. Repeatedly press the jump button to fly. Increase move speed for high-speed movement. Air jump to move forward quickly
- ![](/img/icos/MoveSpeed.png) Move Speed: Change move speed
- ![](/img/icos/MoveHover.png) Hover: Move by hovering. After jumping, move forward to glide gently in the air
- ![](/img/icos/MoveHoverHeight.png) Hover Up/Down: Adjust the degree of continuous ascent/descent while hovering

## ![](/img/icos/EmoLock.png) Expression Lock
- ![](/img/icos/EmoLockSW.png) Enable: Enable expression lock
- ![](/img/icos/EmoLockEye.png) Eyes: Types of eyes to lock
- ![](/img/icos/EmoLockEyeStr.png) Eye Strength: Degree of eye reflection when locked
- ![](/img/icos/EmoLockMouth.png) Mouth: Mouth shape when locked
- ![](/img/icos/EmoLockOthers.png) Others: Other expressions
- ![](/img/icos/EmoLockReset.png) Reset: Reset expression lock settings

## ![](/img/icos/Explore_LightStr.png) Icon
Display various icons above the head

## ![](/img/icos/Explore_Pin.png) Exploration
- ![](/img/icos/Explore_Pin.png) Pin: Display a pin above your head that can be seen from afar
- ![](/img/icos/Explore_FlashLight.png) Front Light: Illuminate the front
- ![](/img/icos/Explore_Light.png) Surrounding Light: Illuminate the surroundings
- ![](/img/icos/Explore_LightStr.png) Brightness: Adjust light brightness
- ![](/img/icos/Explore_Global.png) Globalize Light: Make the light visible to others
- ![](/img/icos/Explore_Route.png) Route: Draw the route you have taken
- ![](/img/icos/Erace.png) Erase Route: Erase the route
- ![](/img/icos/PenColor.png) Color: Change route color

# Unity Settings
## Overview
- FlatsPlus can be customized in Unity.
- The easiest way is to first turn everything "Off" and then check only the features you need.
  - When you check a feature, other features may also be checked at the same time. These are necessary, so it is recommended not to uncheck them.
- There are also features that allow for more detailed settings, making it convenient to adjust for easier use.

## Move Others
| Item | Description | Default |
| --- | --- | --- |
| Allow Blue Gate | Initial value for allowing a blue gate to be created at your location | ON |
| Max Gate Distance | Change the maximum distance at which the gray gate can be operated | 1 |

## Dance Support
| Item | Description | Default |
| --- | --- | --- |
| Dance Control Type | OFF: No dance support<br />Normal: Support within a range with no false detections<br />Force: Actively support | Normal |
| Dance FX Enabled | Initial value for dance FX<br />ON: Clothes, etc. are synchronized, but facial expressions may not move depending on the avatar.<br />OFF: Facial expressions always move, but sync issues may occur | ON |

## Expression Control
| Item | Description | Default |
| --- | --- | --- |
| Expression Type | How to control expressions<br />Auto: Avatar default<br />Avatar Name: Expression operation for that avatar<br />Custom: Expressions created with expression editor<br /><br />Avatar and type do not have to match.<br />Example: Use Flat gestures for a Comodo avatar (expressions not available will not appear) | Auto |
| Expression Edit | Press the button to set expressions for each gesture in detail | - |
| Change Time | Set the time it takes for expressions to change<br />Larger values mean expressions change more slowly | 0.5s |

## Exploration
| Item | Description | Default |
| --- | --- | --- |
| Pin | Enable/disable feature | ON |
| Route | Enable/disable feature | ON |
| Light | Enable/disable feature | ON |
| Global Default | Initial value for making light visible to others | OFF |

## Cheeks
| Item | Description | Default |
| --- | --- | --- |
| Allow Touch | Enable touching cheeks | ON |
| Allow Stretch | Enable stretching cheeks | ON |
| Stretch Limit | Limit the maximum length cheeks can be stretched | 1 |
| Blush | Enable blush (embarrassed face) feature | ON |
| Blush Detection Distance | Adjust the distance at which blush appears when hand is near | 1 |
| Use Original Blush | Use the avatar's original blush shape key<br />(If not available, FlatsPlus original will be used) | ON |
| Blush Control Type | Auto: Anyone's touch<br />Other Only: Only when touched by others<br />Without Dance: Except during dance<br />On: Always show<br />Off: Do not show | Without Dance |
| Show in Menu | Show cheek features in menu | OFF |

## Icon
| Item | Description | Default |
| --- | --- | --- |
| Show Version | See other users' FlatsPlus version | OFF |
| Various Icons | Icons to display | ON |

## Expression Lock
| Item | Description | Default |
| --- | --- | --- |
| Menu Size | Adjust menu size | 0.35 |
| Lock Size | Adjust UI size for expression lock feature | 0.08 |
| Menu Opacity | Adjust menu opacity | 0.85 |
| Margin Size | Adjust margin size in menu | 13 |
| Scroll Speed | Adjust scroll speed | 0.03 |
| Dead Zone | Adjust minimum controller input value | 0.3 |

## Belly
| Item | Description | Default |
| --- | --- | --- |
| Pull | Standard PB setting | 0.5 |
| Spring | Standard PB setting | 0.8 |
| Gravity | Standard PB setting | 0.2 |
| Gravity FallOff | Standard PB setting | 1 |
| Immobile | Standard PB setting | 0.8 |
| LimitAngle | Standard PB setting | 20 |
| Radius Adjust | Adjust the size of the belly's touch detection | 1 |

## Tail
| Item | Description | Default |
| --- | --- | --- |
| Swing Period | Adjust how fast the tail swings | 1.5 |
| Swing Angle | Adjust the angle of the tail swing | 60 |
| Max Size | Set the maximum size of the tail | 1 |
| Min Size | Set the minimum size of the tail | 0.015 |
| Full Size Sync | Whether to fully synchronize tail size with others<br />ON may look choppy. It will look choppy to others either way. | OFF |
| Default Size | Set the initial size of the tail<br />Standard avatar size is 0.5 | 0.5 |

## Guide
| Item | Description | Default |
| --- | --- | --- |
| Default Active | Whether to show the guide by default | ON |
| Default Size | Set the initial size of the guide | 0.4 |

# Troubleshooting

## Not Working
- Please double-check that the FlatsPlus prefab is placed directly under your avatar.

## Build Takes a Long Time
- Sorry for the inconvenience, but this is a technical limitation. Depending on your environment, it may take 1-5 minutes.

## Error Occurred
- FlatsPlus is designed so that you can usually upload even if an error occurs. First, please check if your avatar is okay.
- If you want to clear the error immediately, remove the "FlatsPlus" prefab from your avatar. This should remove almost all effects of FlatsPlus!
  - If you still have problems, try uninstalling.
- Once things have calmed down, try turning everything "OFF" and then enabling only the features you need. This may solve the problem.
  - If problems persist, please contact support.

## Can't Move
- Sleep and PoseClipper include gimmicks that can make your avatar unable to move.
  - If you know the cause, turn off that feature.
- If you don't know, try "Avatar Reset." This should solve the problem.

## Facial Expressions Don't Move During Dance
- In Unity settings, make sure "Dance Support" and "WDON" are enabled.
- In some worlds, you may need to set detection mode to "Powerful," so please try it.
- If the problem still continues, try turning "FX Enabled" off from the ExpressionMenu. This solves expression issues for almost all avatars, but note that it may cause costume sync problems.

## Other Problems
- Please contact support.

# Uninstall
- Removing the FlatsPlus prefab from your avatar will remove almost all effects, but if you need to remove it more thoroughly, follow these steps:
- Delete the Assets/Pan/FlatsPlus folder.
  - If you created custom expressions, they are saved here, so please be careful.
- Open Manage Project in VCC.
  - Delete FlatsPlus and PandraVase.
![](/img/image-8.png)

# License

- Licensed under the [MIT License](https://github.com/pandrabox/DressingTable?tab=MIT-1-ov-file).
- For PoseClipper, please check the license included in the folder.

# System Requirements

Tested in the following environments:
- VRC
  - PC
  - Mobile (Quest)
  - Mobile (Pico4)
  - Mobile (Pico4 Ultra)
- Unity
  - 2022.3.22f1
  - 2022.3.6f1
  - 2019.4.31f1
- VRC SDK
  - 3.4.2
- Modular Avatar 1.9.16
- Non-Destructive Modular Framework 1.4.1
- lilToon 1.8.5
  - Note: Using lilToon 1.9.0 with Unity 2019.4.31f1 may cause problems
- Avatars
  - [Original 3D Model: Flat](https://booth.pm/ja/items/3562180)
  - [Original 3D Model: Flat 2nd Anniversary](https://booth.pm/ja/items/5780006)
  - [Original 3D Model: Comodo](https://booth.pm/ja/items/4046145)
  - [Original 3D Model: Fel](https://booth.pm/ja/items/4656076)
  - [Original 3D Model: Heon](https://booth.pm/ja/items/4849773)
  - [Original 3D Model: Kewf](https://booth.pm/ja/items/5040290)

# Support

## Contact
- Please feel free to contact us for bug reports, questions, or feedback. If you are in a hurry, please contact us through multiple channels.
  - [PandraBox Contact Form](https://forms.gle/x5TvUhqvWwBjQZcn6)
  - [Booth Contact Form](https://pandrabox.booth.pm/)
  - [X](https://x.com/pandra_gmk)

## Request for Error Information
- If you encounter an error with FlatsPlus, providing logs in the following way will be very helpful for troubleshooting. We appreciate your cooperation.
  - Click the FlatsPlus prefab
  - Check the Inspector
  - Click "Copy log information for report" at the bottom
  - The data will be copied, so please send it to the contact address.

![alt text](/img/image-7.png)
